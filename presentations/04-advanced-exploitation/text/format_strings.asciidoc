Format string
-------------

Format strings bruges til formattering af tekstuel data og findes i mange programmeringssprog.

Et eksempel:

image::../images/printf_stack.png[height=600,float="right"]

[source,c]
------------------------------------------------
char * name = "Robert";
int age = 38;
printf("My name is '%s' and I am %d years old\n", name, age);
------------------------------------------------

Funktioner
----------

printf, fprintf, vprintf, vfprintf, dprintf, sprintf, snprintf, syslog, kprintf....

MANGE!

Variadic function
-----------------

Tager et ikke-fixed antal argumenter.

Funktionen udleder antallet af argumenter fra format strengen.

Simple format specifiers
------------------------

* %d - Formatterer en integer som decimaltal
* %x - Formatterer en integer som hexadecimaltal
* %f - Formatterer en floating point
* %s - Følger en pointer til en streng

Specificér bredde
-----------------

* %10d - Højrestil med ti pladser, udfyld med mellemrum
* %010d - Højrestil med ti pladser, udfyld med nul
* 0x%08x - Typisk formattering af pointer

Ombyt rækkefølge, gentag, undlad brug
-------------------------------------

* %d/%d %d - Første, anden, tredje
* %3$d - %2$d %2$d - Tredje, anden, anden

F.eks. til europæisk/amerikansk dato formattering.

Hvad hvis der indexeres ud over argumenterne?
---------------------------------------------

image::../images/printf_stack.png[height=600,float="right"]

[source,c]
------------------------------------------------
char * name = "Robert";
int age = 38;
printf("Muhahaha %100$08x\n", name, age);
------------------------------------------------

Første opgave - Leak stakken og omgå ASLR/Canaries
--------------------------------------------------

[source,c]
------------------------------------------------
include::../assignments/fmt.bug[]
------------------------------------------------
